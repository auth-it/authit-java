/**
 * This file was auto-generated by Fern from our API Definition.
 */
package it.auth.api;

import it.auth.api.core.ClientOptions;
import it.auth.api.core.RequestOptions;
import it.auth.api.core.Suppliers;
import it.auth.api.organizations.DomainsClient;
import it.auth.api.organizations.InvitationsClient;
import it.auth.api.organizations.MembershipsClient;
import it.auth.api.organizations.RolesClient;
import it.auth.api.types.CreatePortalLinkRequest;
import it.auth.api.types.GetOrganizationsCountRequest;
import it.auth.api.types.GetOrganizationsRequest;
import it.auth.api.types.OrganizationRepresentation;
import it.auth.api.types.PortalLinkRepresentation;
import java.util.List;
import java.util.function.Supplier;

public class OrganizationsClient {
    protected final ClientOptions clientOptions;

    private final RawOrganizationsClient rawClient;

    protected final Supplier<MembershipsClient> membershipsClient;

    protected final Supplier<InvitationsClient> invitationsClient;

    protected final Supplier<DomainsClient> domainsClient;

    protected final Supplier<RolesClient> rolesClient;

    public OrganizationsClient(ClientOptions clientOptions) {
        this.clientOptions = clientOptions;
        this.rawClient = new RawOrganizationsClient(clientOptions);
        this.membershipsClient = Suppliers.memoize(() -> new MembershipsClient(clientOptions));
        this.invitationsClient = Suppliers.memoize(() -> new InvitationsClient(clientOptions));
        this.domainsClient = Suppliers.memoize(() -> new DomainsClient(clientOptions));
        this.rolesClient = Suppliers.memoize(() -> new RolesClient(clientOptions));
    }

    /**
     * Get responses with HTTP metadata like headers
     */
    public RawOrganizationsClient withRawResponse() {
        return this.rawClient;
    }

    /**
     * Get a paginated list of organizations using optional search query parameters.
     */
    public List<OrganizationRepresentation> getOrganizations() {
        return this.rawClient.getOrganizations().body();
    }

    /**
     * Get a paginated list of organizations using optional search query parameters.
     */
    public List<OrganizationRepresentation> getOrganizations(GetOrganizationsRequest request) {
        return this.rawClient.getOrganizations(request).body();
    }

    /**
     * Get a paginated list of organizations using optional search query parameters.
     */
    public List<OrganizationRepresentation> getOrganizations(
            GetOrganizationsRequest request, RequestOptions requestOptions) {
        return this.rawClient.getOrganizations(request, requestOptions).body();
    }

    /**
     * Create a new organization from a representation. Must include name.
     */
    public void createOrganization() {
        this.rawClient.createOrganization().body();
    }

    /**
     * Create a new organization from a representation. Must include name.
     */
    public void createOrganization(OrganizationRepresentation request) {
        this.rawClient.createOrganization(request).body();
    }

    /**
     * Create a new organization from a representation. Must include name.
     */
    public void createOrganization(OrganizationRepresentation request, RequestOptions requestOptions) {
        this.rawClient.createOrganization(request, requestOptions).body();
    }

    /**
     * Get a count of organizations using an optional search query.
     */
    public int getOrganizationsCount() {
        return this.rawClient.getOrganizationsCount().body();
    }

    /**
     * Get a count of organizations using an optional search query.
     */
    public int getOrganizationsCount(GetOrganizationsCountRequest request) {
        return this.rawClient.getOrganizationsCount(request).body();
    }

    /**
     * Get a count of organizations using an optional search query.
     */
    public int getOrganizationsCount(GetOrganizationsCountRequest request, RequestOptions requestOptions) {
        return this.rawClient.getOrganizationsCount(request, requestOptions).body();
    }

    public OrganizationRepresentation getOrganization(String orgId) {
        return this.rawClient.getOrganization(orgId).body();
    }

    public OrganizationRepresentation getOrganization(String orgId, RequestOptions requestOptions) {
        return this.rawClient.getOrganization(orgId, requestOptions).body();
    }

    public void updateOrganization(String orgId) {
        this.rawClient.updateOrganization(orgId).body();
    }

    public void updateOrganization(String orgId, OrganizationRepresentation request) {
        this.rawClient.updateOrganization(orgId, request).body();
    }

    public void updateOrganization(String orgId, OrganizationRepresentation request, RequestOptions requestOptions) {
        this.rawClient.updateOrganization(orgId, request, requestOptions).body();
    }

    public void deleteOrganization(String orgId) {
        this.rawClient.deleteOrganization(orgId).body();
    }

    public void deleteOrganization(String orgId, RequestOptions requestOptions) {
        this.rawClient.deleteOrganization(orgId, requestOptions).body();
    }

    /**
     * Create a link for this organizations admin portal. This link encodes an action token on behalf of the organization's default admin user, or the user that is optionally specified in this request. The user specified must be a member of this organization, and have full organization admin roles.
     */
    public PortalLinkRepresentation createPortalLink(String orgId) {
        return this.rawClient.createPortalLink(orgId).body();
    }

    /**
     * Create a link for this organizations admin portal. This link encodes an action token on behalf of the organization's default admin user, or the user that is optionally specified in this request. The user specified must be a member of this organization, and have full organization admin roles.
     */
    public PortalLinkRepresentation createPortalLink(String orgId, CreatePortalLinkRequest request) {
        return this.rawClient.createPortalLink(orgId, request).body();
    }

    /**
     * Create a link for this organizations admin portal. This link encodes an action token on behalf of the organization's default admin user, or the user that is optionally specified in this request. The user specified must be a member of this organization, and have full organization admin roles.
     */
    public PortalLinkRepresentation createPortalLink(
            String orgId, CreatePortalLinkRequest request, RequestOptions requestOptions) {
        return this.rawClient.createPortalLink(orgId, request, requestOptions).body();
    }

    public MembershipsClient memberships() {
        return this.membershipsClient.get();
    }

    public InvitationsClient invitations() {
        return this.invitationsClient.get();
    }

    public DomainsClient domains() {
        return this.domainsClient.get();
    }

    public RolesClient roles() {
        return this.rolesClient.get();
    }
}
