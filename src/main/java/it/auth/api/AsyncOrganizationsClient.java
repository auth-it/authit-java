/**
 * This file was auto-generated by Fern from our API Definition.
 */
package it.auth.api;

import it.auth.api.core.ClientOptions;
import it.auth.api.core.RequestOptions;
import it.auth.api.core.Suppliers;
import it.auth.api.organizations.AsyncDomainsClient;
import it.auth.api.organizations.AsyncInvitationsClient;
import it.auth.api.organizations.AsyncMembershipsClient;
import it.auth.api.organizations.AsyncRolesClient;
import it.auth.api.types.CreatePortalLinkRequest;
import it.auth.api.types.GetOrganizationsCountRequest;
import it.auth.api.types.GetOrganizationsRequest;
import it.auth.api.types.OrganizationRepresentation;
import it.auth.api.types.PortalLinkRepresentation;
import java.util.List;
import java.util.concurrent.CompletableFuture;
import java.util.function.Supplier;

public class AsyncOrganizationsClient {
    protected final ClientOptions clientOptions;

    private final AsyncRawOrganizationsClient rawClient;

    protected final Supplier<AsyncMembershipsClient> membershipsClient;

    protected final Supplier<AsyncInvitationsClient> invitationsClient;

    protected final Supplier<AsyncDomainsClient> domainsClient;

    protected final Supplier<AsyncRolesClient> rolesClient;

    public AsyncOrganizationsClient(ClientOptions clientOptions) {
        this.clientOptions = clientOptions;
        this.rawClient = new AsyncRawOrganizationsClient(clientOptions);
        this.membershipsClient = Suppliers.memoize(() -> new AsyncMembershipsClient(clientOptions));
        this.invitationsClient = Suppliers.memoize(() -> new AsyncInvitationsClient(clientOptions));
        this.domainsClient = Suppliers.memoize(() -> new AsyncDomainsClient(clientOptions));
        this.rolesClient = Suppliers.memoize(() -> new AsyncRolesClient(clientOptions));
    }

    /**
     * Get responses with HTTP metadata like headers
     */
    public AsyncRawOrganizationsClient withRawResponse() {
        return this.rawClient;
    }

    /**
     * Get a paginated list of organizations using optional search query parameters.
     */
    public CompletableFuture<List<OrganizationRepresentation>> getOrganizations() {
        return this.rawClient.getOrganizations().thenApply(response -> response.body());
    }

    /**
     * Get a paginated list of organizations using optional search query parameters.
     */
    public CompletableFuture<List<OrganizationRepresentation>> getOrganizations(GetOrganizationsRequest request) {
        return this.rawClient.getOrganizations(request).thenApply(response -> response.body());
    }

    /**
     * Get a paginated list of organizations using optional search query parameters.
     */
    public CompletableFuture<List<OrganizationRepresentation>> getOrganizations(
            GetOrganizationsRequest request, RequestOptions requestOptions) {
        return this.rawClient.getOrganizations(request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Create a new organization from a representation. Must include name.
     */
    public CompletableFuture<Void> createOrganization() {
        return this.rawClient.createOrganization().thenApply(response -> response.body());
    }

    /**
     * Create a new organization from a representation. Must include name.
     */
    public CompletableFuture<Void> createOrganization(OrganizationRepresentation request) {
        return this.rawClient.createOrganization(request).thenApply(response -> response.body());
    }

    /**
     * Create a new organization from a representation. Must include name.
     */
    public CompletableFuture<Void> createOrganization(
            OrganizationRepresentation request, RequestOptions requestOptions) {
        return this.rawClient.createOrganization(request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Get a count of organizations using an optional search query.
     */
    public CompletableFuture<Integer> getOrganizationsCount() {
        return this.rawClient.getOrganizationsCount().thenApply(response -> response.body());
    }

    /**
     * Get a count of organizations using an optional search query.
     */
    public CompletableFuture<Integer> getOrganizationsCount(GetOrganizationsCountRequest request) {
        return this.rawClient.getOrganizationsCount(request).thenApply(response -> response.body());
    }

    /**
     * Get a count of organizations using an optional search query.
     */
    public CompletableFuture<Integer> getOrganizationsCount(
            GetOrganizationsCountRequest request, RequestOptions requestOptions) {
        return this.rawClient.getOrganizationsCount(request, requestOptions).thenApply(response -> response.body());
    }

    public CompletableFuture<OrganizationRepresentation> getOrganization(String orgId) {
        return this.rawClient.getOrganization(orgId).thenApply(response -> response.body());
    }

    public CompletableFuture<OrganizationRepresentation> getOrganization(String orgId, RequestOptions requestOptions) {
        return this.rawClient.getOrganization(orgId, requestOptions).thenApply(response -> response.body());
    }

    public CompletableFuture<Void> updateOrganization(String orgId) {
        return this.rawClient.updateOrganization(orgId).thenApply(response -> response.body());
    }

    public CompletableFuture<Void> updateOrganization(String orgId, OrganizationRepresentation request) {
        return this.rawClient.updateOrganization(orgId, request).thenApply(response -> response.body());
    }

    public CompletableFuture<Void> updateOrganization(
            String orgId, OrganizationRepresentation request, RequestOptions requestOptions) {
        return this.rawClient.updateOrganization(orgId, request, requestOptions).thenApply(response -> response.body());
    }

    public CompletableFuture<Void> deleteOrganization(String orgId) {
        return this.rawClient.deleteOrganization(orgId).thenApply(response -> response.body());
    }

    public CompletableFuture<Void> deleteOrganization(String orgId, RequestOptions requestOptions) {
        return this.rawClient.deleteOrganization(orgId, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Create a link for this organizations admin portal. This link encodes an action token on behalf of the organization's default admin user, or the user that is optionally specified in this request. The user specified must be a member of this organization, and have full organization admin roles.
     */
    public CompletableFuture<PortalLinkRepresentation> createPortalLink(String orgId) {
        return this.rawClient.createPortalLink(orgId).thenApply(response -> response.body());
    }

    /**
     * Create a link for this organizations admin portal. This link encodes an action token on behalf of the organization's default admin user, or the user that is optionally specified in this request. The user specified must be a member of this organization, and have full organization admin roles.
     */
    public CompletableFuture<PortalLinkRepresentation> createPortalLink(String orgId, CreatePortalLinkRequest request) {
        return this.rawClient.createPortalLink(orgId, request).thenApply(response -> response.body());
    }

    /**
     * Create a link for this organizations admin portal. This link encodes an action token on behalf of the organization's default admin user, or the user that is optionally specified in this request. The user specified must be a member of this organization, and have full organization admin roles.
     */
    public CompletableFuture<PortalLinkRepresentation> createPortalLink(
            String orgId, CreatePortalLinkRequest request, RequestOptions requestOptions) {
        return this.rawClient.createPortalLink(orgId, request, requestOptions).thenApply(response -> response.body());
    }

    public AsyncMembershipsClient memberships() {
        return this.membershipsClient.get();
    }

    public AsyncInvitationsClient invitations() {
        return this.invitationsClient.get();
    }

    public AsyncDomainsClient domains() {
        return this.domainsClient.get();
    }

    public AsyncRolesClient roles() {
        return this.rolesClient.get();
    }
}
