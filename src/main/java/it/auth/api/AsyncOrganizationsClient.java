/**
 * This file was auto-generated by Fern from our API Definition.
 */
package it.auth.api;

import it.auth.api.core.ClientOptions;
import it.auth.api.core.RequestOptions;
import it.auth.api.core.Suppliers;
import it.auth.api.organizations.AsyncDomainsClient;
import it.auth.api.organizations.AsyncInvitationsClient;
import it.auth.api.organizations.AsyncMembershipsClient;
import it.auth.api.organizations.AsyncRolesClient;
import it.auth.api.types.CreatePortalLinkRequest;
import it.auth.api.types.GetOrganizationsCountRequest;
import it.auth.api.types.GetOrganizationsRequest;
import it.auth.api.types.InvitationRepresentation;
import it.auth.api.types.MyOrganizationRepresentation;
import it.auth.api.types.OrganizationRepresentation;
import it.auth.api.types.OrganizationRoleRepresentation;
import it.auth.api.types.PortalLinkRepresentation;
import java.util.List;
import java.util.Map;
import java.util.concurrent.CompletableFuture;
import java.util.function.Supplier;

public class AsyncOrganizationsClient {
    protected final ClientOptions clientOptions;

    private final AsyncRawOrganizationsClient rawClient;

    protected final Supplier<AsyncMembershipsClient> membershipsClient;

    protected final Supplier<AsyncDomainsClient> domainsClient;

    protected final Supplier<AsyncInvitationsClient> invitationsClient;

    protected final Supplier<AsyncRolesClient> rolesClient;

    public AsyncOrganizationsClient(ClientOptions clientOptions) {
        this.clientOptions = clientOptions;
        this.rawClient = new AsyncRawOrganizationsClient(clientOptions);
        this.membershipsClient = Suppliers.memoize(() -> new AsyncMembershipsClient(clientOptions));
        this.domainsClient = Suppliers.memoize(() -> new AsyncDomainsClient(clientOptions));
        this.invitationsClient = Suppliers.memoize(() -> new AsyncInvitationsClient(clientOptions));
        this.rolesClient = Suppliers.memoize(() -> new AsyncRolesClient(clientOptions));
    }

    /**
     * Get responses with HTTP metadata like headers
     */
    public AsyncRawOrganizationsClient withRawResponse() {
        return this.rawClient;
    }

    /**
     * Get a paginated list of organizations using optional search query parameters.
     */
    public CompletableFuture<List<OrganizationRepresentation>> getOrganizations(String realm) {
        return this.rawClient.getOrganizations(realm).thenApply(response -> response.body());
    }

    /**
     * Get a paginated list of organizations using optional search query parameters.
     */
    public CompletableFuture<List<OrganizationRepresentation>> getOrganizations(
            String realm, GetOrganizationsRequest request) {
        return this.rawClient.getOrganizations(realm, request).thenApply(response -> response.body());
    }

    /**
     * Get a paginated list of organizations using optional search query parameters.
     */
    public CompletableFuture<List<OrganizationRepresentation>> getOrganizations(
            String realm, GetOrganizationsRequest request, RequestOptions requestOptions) {
        return this.rawClient.getOrganizations(realm, request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Create a new organization from a representation. Must include name.
     */
    public CompletableFuture<Void> createOrganization(String realm) {
        return this.rawClient.createOrganization(realm).thenApply(response -> response.body());
    }

    /**
     * Create a new organization from a representation. Must include name.
     */
    public CompletableFuture<Void> createOrganization(String realm, OrganizationRepresentation request) {
        return this.rawClient.createOrganization(realm, request).thenApply(response -> response.body());
    }

    /**
     * Create a new organization from a representation. Must include name.
     */
    public CompletableFuture<Void> createOrganization(
            String realm, OrganizationRepresentation request, RequestOptions requestOptions) {
        return this.rawClient.createOrganization(realm, request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Get a count of organizations using an optional search query.
     */
    public CompletableFuture<Integer> getOrganizationsCount(String realm) {
        return this.rawClient.getOrganizationsCount(realm).thenApply(response -> response.body());
    }

    /**
     * Get a count of organizations using an optional search query.
     */
    public CompletableFuture<Integer> getOrganizationsCount(String realm, GetOrganizationsCountRequest request) {
        return this.rawClient.getOrganizationsCount(realm, request).thenApply(response -> response.body());
    }

    /**
     * Get a count of organizations using an optional search query.
     */
    public CompletableFuture<Integer> getOrganizationsCount(
            String realm, GetOrganizationsCountRequest request, RequestOptions requestOptions) {
        return this.rawClient
                .getOrganizationsCount(realm, request, requestOptions)
                .thenApply(response -> response.body());
    }

    /**
     * Get a list of all organizations that the user is a member and their roles in those organizations. Similar idea to /userinfo in OIDC.
     */
    public CompletableFuture<Map<String, MyOrganizationRepresentation>> getMe(String realm) {
        return this.rawClient.getMe(realm).thenApply(response -> response.body());
    }

    /**
     * Get a list of all organizations that the user is a member and their roles in those organizations. Similar idea to /userinfo in OIDC.
     */
    public CompletableFuture<Map<String, MyOrganizationRepresentation>> getMe(
            String realm, RequestOptions requestOptions) {
        return this.rawClient.getMe(realm, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Get a list of all invitations for the user.
     */
    public CompletableFuture<InvitationRepresentation> invitations(String realm) {
        return this.rawClient.invitations(realm).thenApply(response -> response.body());
    }

    /**
     * Get a list of all invitations for the user.
     */
    public CompletableFuture<InvitationRepresentation> invitations(String realm, RequestOptions requestOptions) {
        return this.rawClient.invitations(realm, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Accept invitation for authenticated user.
     */
    public CompletableFuture<Void> acceptInvitation(String realm, String invitationId) {
        return this.rawClient.acceptInvitation(realm, invitationId).thenApply(response -> response.body());
    }

    /**
     * Accept invitation for authenticated user.
     */
    public CompletableFuture<Void> acceptInvitation(String realm, String invitationId, RequestOptions requestOptions) {
        return this.rawClient
                .acceptInvitation(realm, invitationId, requestOptions)
                .thenApply(response -> response.body());
    }

    /**
     * Reject invitation for authenticated user.
     */
    public CompletableFuture<Void> rejectInvitation(String realm, String invitationId) {
        return this.rawClient.rejectInvitation(realm, invitationId).thenApply(response -> response.body());
    }

    /**
     * Reject invitation for authenticated user.
     */
    public CompletableFuture<Void> rejectInvitation(String realm, String invitationId, RequestOptions requestOptions) {
        return this.rawClient
                .rejectInvitation(realm, invitationId, requestOptions)
                .thenApply(response -> response.body());
    }

    public CompletableFuture<OrganizationRepresentation> getOrganizationById(String realm, String orgId) {
        return this.rawClient.getOrganizationById(realm, orgId).thenApply(response -> response.body());
    }

    public CompletableFuture<OrganizationRepresentation> getOrganizationById(
            String realm, String orgId, RequestOptions requestOptions) {
        return this.rawClient.getOrganizationById(realm, orgId, requestOptions).thenApply(response -> response.body());
    }

    public CompletableFuture<Void> updateOrganization(String realm, String orgId) {
        return this.rawClient.updateOrganization(realm, orgId).thenApply(response -> response.body());
    }

    public CompletableFuture<Void> updateOrganization(String realm, String orgId, OrganizationRepresentation request) {
        return this.rawClient.updateOrganization(realm, orgId, request).thenApply(response -> response.body());
    }

    public CompletableFuture<Void> updateOrganization(
            String realm, String orgId, OrganizationRepresentation request, RequestOptions requestOptions) {
        return this.rawClient
                .updateOrganization(realm, orgId, request, requestOptions)
                .thenApply(response -> response.body());
    }

    public CompletableFuture<Void> deleteOrganization(String realm, String orgId) {
        return this.rawClient.deleteOrganization(realm, orgId).thenApply(response -> response.body());
    }

    public CompletableFuture<Void> deleteOrganization(String realm, String orgId, RequestOptions requestOptions) {
        return this.rawClient.deleteOrganization(realm, orgId, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Create a link for this organizations admin portal. This link encodes an action token on behalf of the organization's default admin user, or the user that is optionally specified in this request. The user specified must be a member of this organization, and have full organization admin roles.
     */
    public CompletableFuture<PortalLinkRepresentation> createPortalLink(String realm, String orgId) {
        return this.rawClient.createPortalLink(realm, orgId).thenApply(response -> response.body());
    }

    /**
     * Create a link for this organizations admin portal. This link encodes an action token on behalf of the organization's default admin user, or the user that is optionally specified in this request. The user specified must be a member of this organization, and have full organization admin roles.
     */
    public CompletableFuture<PortalLinkRepresentation> createPortalLink(
            String realm, String orgId, CreatePortalLinkRequest request) {
        return this.rawClient.createPortalLink(realm, orgId, request).thenApply(response -> response.body());
    }

    /**
     * Create a link for this organizations admin portal. This link encodes an action token on behalf of the organization's default admin user, or the user that is optionally specified in this request. The user specified must be a member of this organization, and have full organization admin roles.
     */
    public CompletableFuture<PortalLinkRepresentation> createPortalLink(
            String realm, String orgId, CreatePortalLinkRequest request, RequestOptions requestOptions) {
        return this.rawClient
                .createPortalLink(realm, orgId, request, requestOptions)
                .thenApply(response -> response.body());
    }

    public CompletableFuture<List<OrganizationRoleRepresentation>> getOrganizationRoles(String realm, String orgId) {
        return this.rawClient.getOrganizationRoles(realm, orgId).thenApply(response -> response.body());
    }

    public CompletableFuture<List<OrganizationRoleRepresentation>> getOrganizationRoles(
            String realm, String orgId, RequestOptions requestOptions) {
        return this.rawClient.getOrganizationRoles(realm, orgId, requestOptions).thenApply(response -> response.body());
    }

    public CompletableFuture<Void> createOrganizationRole(String realm, String orgId) {
        return this.rawClient.createOrganizationRole(realm, orgId).thenApply(response -> response.body());
    }

    public CompletableFuture<Void> createOrganizationRole(
            String realm, String orgId, OrganizationRoleRepresentation request) {
        return this.rawClient.createOrganizationRole(realm, orgId, request).thenApply(response -> response.body());
    }

    public CompletableFuture<Void> createOrganizationRole(
            String realm, String orgId, OrganizationRoleRepresentation request, RequestOptions requestOptions) {
        return this.rawClient
                .createOrganizationRole(realm, orgId, request, requestOptions)
                .thenApply(response -> response.body());
    }

    public CompletableFuture<Void> createOrganizationRoles(
            String realm, String orgId, List<OrganizationRoleRepresentation> request) {
        return this.rawClient.createOrganizationRoles(realm, orgId, request).thenApply(response -> response.body());
    }

    public CompletableFuture<Void> createOrganizationRoles(
            String realm, String orgId, List<OrganizationRoleRepresentation> request, RequestOptions requestOptions) {
        return this.rawClient
                .createOrganizationRoles(realm, orgId, request, requestOptions)
                .thenApply(response -> response.body());
    }

    public AsyncMembershipsClient memberships() {
        return this.membershipsClient.get();
    }

    public AsyncDomainsClient domains() {
        return this.domainsClient.get();
    }

    public AsyncInvitationsClient invitations() {
        return this.invitationsClient.get();
    }

    public AsyncRolesClient roles() {
        return this.rolesClient.get();
    }
}
